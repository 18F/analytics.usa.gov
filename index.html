<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Analytics | USA.GOV</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <!--[if lte IE 9]>
    <script src="js/vendor/aight.min.js"></script>
    <![endif]-->
    <script src="js/vendor/d3.v3.min.js"></script>
    <script src="js/vendor/moment.min.js"></script>
    <link rel="stylesheet" href="css/public_analytics.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>

  <body>

    <header id="usa_dot_gov_header">
      <div class="header_container">
        <h1>analytics<a href="http://www.usa.gov">.usa.gov</a></h1>
        <time id="datetime"></time>
      </div>
      <div id="color_bar"></div>
    </header>

    <div class="container">
      <!--
      JavaScript block hooks look for any element with both data-block and
      data-source attributes:

      <section data-block="users" data-source="path/to/data.json">
        The "loading", "loaded", and "error" classes are set on this element
        the data-source URL is loaded. Then the renderer is called on the first
        child of the block with the "data" class:

        <div class="data">
        </div>

        Some renderers expect to be called on HTML tables, in which
        case you would use:

        <table class="data">
        </table>

      </section>
      -->

      <div id="main_data">
        <section id="realtime"
          data-block="realtime"
          data-source="https://dap.18f.us/data/live/realtime.json">
          <h2 id="current_visitors" class="data">...</h2>
          <div id="chart_visitors_over_time" class="chart_subtitle">people online right now
          </div>
        </section>

        <section class="section_headline"><h3>Visits Today</h3></section>
        <section id="time_series"
          data-block="today"
          data-source="https://dap.18f.us/bulk/today.json">
          <svg class="data time-series" width="100%" height="200">
          </svg>
        </section>

        <section class="section_headline"><h3>Technology</h3></section>
        <section class="section_subheadline">There were <span id="total_visitors">1.05 billion</span> visitors over the past 90 days.</section>

        <section id="devices" class="three_column" data-block="devices"
          data-source="https://dap.18f.us/data/live/devices.json">
          <h4>Devices</h4>
          <figure id="chart_device_types">
            <div class="data bar-chart">
            </div>
          </figure>
        </section>

        <section id="browsers" class="three_column">
          <h4>Browsers</h4>

          <figure id="chart_browsers"
            data-block="browsers"
            data-source="https://dap.18f.us/data/live/browsers.json">
            <div class="data bar-chart">
            </div>
          </figure>

          <figure id="chart_ie"
            data-block="ie"
            data-source="https://dap.18f.us/data/live/ie.json">
            <h4>Internet Explorer</h4>
            <div class="data bar-chart">
            </div>
          </figure>
        </section>

        <section id="operating_systems" class="three_column">
          <h4>Operating Systems</h4>

          <figure id="chart_operating_system"
            data-block="os"
            data-source="https://dap.18f.us/data/live/os.json">
            <div class="data bar-chart">
            </div>
          </figure>

          <figure id="chart_windows"
            data-block="windows"
            data-source="https://dap.18f.us/data/live/windows.json">
            <h4>Windows</h4>
            <div class="data bar-chart">
            </div>
          </figure>
        </section>
      </div>

      <div id="secondary_data">
        <section id="top_100_table">


          <!-- see: http://heydonworks.com/practical_aria_examples/ -->
          <h3>Top Sites</h3>
          <ul class="pills" role="tablist">
            <li><a role="tab" aria-selected="true" href="#top-pages-realtime">Live</a></li>
            <li><a role="tab" href="#top-pages-7-days">7 Days</a></li>
            <li><a role="tab" href="#top-pages-30-days">30 Days</a></li>
          </ul>

          <figure id="top-pages-realtime" role="tabpanel"
            data-block="top-pages-realtime"
            data-source="https://dap.18f.us/data/live/top-pages-realtime.json">
            <div class="data bar-chart">
            </div>
          </figure>

          <figure id="top-pages-7-days" role="tabpanel"
            data-block="top-pages"
            data-source="https://dap.18f.us/data/live/top-pages-7-days.json">
            <div class="data bar-chart">
            </div>
          </figure>

          <figure id="top-pages-30-days" role="tabpanel"
            data-block="top-pages"
            data-source="https://dap.18f.us/data/live/top-pages-30-days.json">
            <div class="data bar-chart">
            </div>
          </figure>

        </section>
      </div>

      <section class="explanation">
        <p>
          This data is from a unified Google Analytics account for US federal government agencies known as the <a href="https://www.digitalgov.gov/services/dap/">Digital Analytics Program</a>.
        </p>

        <p>
          Currently, the Digital Analytics Program collects web traffic from over 280 .gov domains out of <a href="https://catalog.data.gov/dataset/gov-domains-api">over 1,350 federal agency domains</a> total. This data is not a representative sample of all web traffic to government domains because it only includes agencies that are participating in the program.
        </p>

        <p>
          This open source project is dedicated to the international public domain, which means that this website and its data are free for you to use without restriction. You can find the <a href="https://github.com/GSA/public_analytics">code for this website</a> and the <a href="https://github.com/18F/analytics-reporter">code behind the data collection</a> on GitHub.
        </p>
      </section>

    </div>
  </body>
  <script src="js/index.js"></script>
</html>
